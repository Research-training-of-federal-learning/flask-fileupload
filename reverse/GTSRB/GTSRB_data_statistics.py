import torch


def GTSRB_statistics(t1):
	t1=torch.Tensor(t1)

	c1=0
	c2=0
	t4 = [[0 for j in range(43)] for i in range(43)] #记录是否危险
	t5 = [[0. for j in range(43)] for i in range(43)] #记录可能性
	t5=torch.Tensor(t5)
	# t1: torch.Tensor = torch.tensor([[0,547,849,10,13,57,235,95,840,33],
	#  [0,0,223,1,0,3,1,0,421,1],
	#  [2,177,0,4,3,1,8,6,529,0],
	#  [0,492,444,0,0,349,0,1,1912,13],
	#  [0,1001,94,7,0,9,12,11,1141,99],
	#  [0,48,9,37,0,0,39,2,801,9],
	#  [34,63,70,0,37,95,0,0,699,0],
	#  [1,2078,606,1,22,76,0,0,747,144],
	#  [0,3,25,6,2,15,0,1,0,4],
	#  [2,456,33,56,304,87,3,32,2514,0]])

	for t2 in range(len(t1)):
		for t3 in range(len(t1[t2])):
			if(t1[t2][t3]>=torch.max(t1[t2])/2 and t1[t2][t3]!=0):
				t4[t2][t3]=1
			t5[t2][t3]=t1[t2][t3]/torch.sum(t1[t2])*100
	return t4,t5.tolist()

if __name__ == '__main__':
	t1=[[0,547,849,10,13,57,235,95,840,33],
	 [0,0,223,1,0,3,1,0,421,1],
	 [2,177,0,4,3,1,8,6,529,0],
	 [0,492,444,0,0,349,0,1,1912,13],
	 [0,1001,94,7,0,9,12,11,1141,99],
	 [0,48,9,37,0,0,39,2,801,9],
	 [34,63,70,0,37,95,0,0,699,0],
	 [1,2078,606,1,22,76,0,0,747,144],
	 [0,3,25,6,2,15,0,1,0,4],
	 [2,456,33,56,304,87,3,32,2514,0]]
	# t4,t5=MNIST_statistics(t1)
	# print(t4)
	# print(t5)